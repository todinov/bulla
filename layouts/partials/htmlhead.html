<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
{{- template "_internal/opengraph.html" . -}}

<title>{{ .Page.Title }} | {{ .Site.Title -}}</title>
<link rel="icon" href="{{ "favicon.png" | relURL }}" type="image/x-icon">

<!-- Theme stylesheet, you can customize scss by creating `assets/custom.scss` in your website -->
{{- $styles := resources.Get "style.sass" | resources.ExecuteAsTemplate "style.sass" . | toCSS | resources.Minify | resources.Fingerprint }}
<link rel="stylesheet" href="{{ $styles.RelPermalink }}" integrity="{{ $styles.Data.Integrity }}">

{{ $navscript := resources.Get "js/navbar.js" | resources.Minify | resources.Fingerprint }}
<script src="{{ $navscript.RelPermalink }}"></script>

{{- template "_internal/google_analytics.html" . -}}

<!-- RSS -->
{{ with .OutputFormats.Get "rss" -}}
  {{ printf `<link rel="%s" type="%s" href="%s" title="%s" />` .Rel .MediaType.Type .Permalink $.Site.Title | safeHTML }}
{{ end -}}

{{ if .Site.Params.enableSearch }}
  <script src="{{ "minisearch/index.js" | relURL }}"></script>

  <script type="text/javascript">
    {{- range where .Site.Pages "Params.type" "=" "search" | first 1 -}}
      var BullaSearchConfig = {
          index: "{{ .Permalink }}",
      };
    {{- else -}}
      console.error("No search index defined. Create a content page with type 'search'.");
    {{- end -}}
  </script>
{{ end }}

{{ partial "css" . }}
